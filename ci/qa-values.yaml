image:
  repository: hub.nasajon.in/ana/angularjs-skeleton
  tag: "{{ TAG }}"

ingress:
  enabled: true
  className: nginx
  annotations:
    nginx.ingress.kubernetes.io/cors-allow-headers: "DNT,X-CustomHeader,Keep-Alive,User-Agent,X-Requested-With,If-Modified-Since,Cache-Control,Content-Type,Authorization,If-None-Match,x-blackfire-query,apikey"
    nginx.ingress.kubernetes.io/enable-cors: "true"
    cert-manager.io/cluster-issuer: letsencrypt-prod
  hosts:
  - host: angularjsskeleton.ana.nasajon.qa
    paths:
      - path: /
        pathType: ImplementationSpecific
  tls:
    - secretName: angularjs-skeleton-tls
      hosts:
        - angularjsskeleton.ana.nasajon.qa

configMap:
  data:
    config.json: |
      {
        "routing": {
          "url": "https://api.qa.meutrabalho.app/fosrouting/js/routing"
        },
        "auth": {
          "url": "https://auth.nasajon.qa/auth",
          "realm": "QA",
          "clientId": "meutrabalho_api"
        },
        "contaURL": "https://conta.nasajon.qa",
      }
secret:
  create: true
  name: "angularjs-skeleton"
  data:
    POSTGRES_USER: "anarh_user"

affinity:
  nodeAffinity:
    requiredDuringSchedulingIgnoredDuringExecution:
      nodeSelectorTerms:
      - matchExpressions:
        - key: node_group
          operator: In
          values:
          - ng-ztaqa
